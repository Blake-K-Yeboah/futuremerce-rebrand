---
import type { CollectionEntry } from "astro:content";

interface Props {
    post: CollectionEntry<"blog">;
    hidden?: boolean;
}

const { post, hidden } = Astro.props as Props;

 const d = new Date(post.data.date);

let date = d.toLocaleDateString('en-us',{day: 'numeric'});
let ending = date.endsWith('3') ? 'rd' : date.endsWith('2') ? 'nd' : 'th';
let month = d.toLocaleDateString('en-us',{month: 'long'})
let year = d.toLocaleDateString('en-us',{year: 'numeric'})
---

<a href={`/posts/${post.slug}`} class={`post-card${hidden ? ' hidden' : ''}`} data-category={post.data.category} aria-label={post.data.title} title={post.data.title} itemid={"https://www.futuremerce.com/posts/"+post.slug+"/"} itemscope itemtype="http://schema.org/BlogPosting">
    <img src={`/post-thumbnails/${post.slug}.webp`} alt={post.data.title}>
    <div class="post-card_content">
        <h4 class="post-card_title" >{post.data.title}</h4>
        <p class="post-card_date">{`${date}${ending} ${month} ${year}`}</p>
        <p class="post-card_text">{post.data.excerpt}</p>
        <span class="post-card_read-more">Read more <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.8522 12.6769C9.82772 12.6537 9.80831 12.6261 9.79506 12.5958C9.78181 12.5654 9.77499 12.5329 9.77499 12.5C9.77499 12.4672 9.78181 12.4346 9.79506 12.4043C9.80831 12.3739 9.82772 12.3464 9.8522 12.3231L14.1409 8.25002H3.19441C3.1246 8.25002 3.05765 8.22368 3.00828 8.17679C2.95892 8.12991 2.93118 8.06632 2.93118 8.00002C2.93118 7.93371 2.95892 7.87012 3.00828 7.82324C3.05765 7.77636 3.1246 7.75002 3.19441 7.75002L14.1409 7.75002L9.8522 3.67689C9.82774 3.65366 9.80834 3.62609 9.7951 3.59574C9.78187 3.56539 9.77506 3.53287 9.77506 3.50002C9.77506 3.46717 9.78187 3.43464 9.7951 3.40429C9.80834 3.37394 9.82774 3.34637 9.8522 3.32314C9.87665 3.29991 9.90569 3.28149 9.93764 3.26892C9.9696 3.25635 10.0038 3.24988 10.0384 3.24988C10.073 3.24988 10.1073 3.25635 10.1392 3.26892C10.1712 3.28149 10.2002 3.29991 10.2247 3.32314L14.9628 7.82314C14.9873 7.84636 15.0067 7.87393 15.02 7.90428C15.0332 7.93463 15.04 7.96716 15.04 8.00002C15.04 8.03287 15.0332 8.0654 15.02 8.09575C15.0067 8.1261 14.9873 8.15367 14.9628 8.17689L10.2247 12.6769C10.2002 12.7001 10.1712 12.7186 10.1392 12.7312C10.1073 12.7437 10.073 12.7502 10.0384 12.7502C10.0038 12.7502 9.96959 12.7437 9.93763 12.7312C9.90567 12.7186 9.87664 12.7001 9.8522 12.6769Z" fill="#8B81FF"/></svg></span>
    </div>
</a>